<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout.html :: layout}">

<body th:fragment="content">
        <main id="mt-main">
            <!-- Mt Content Banner of the Page -->
            <section class="mt-contact-banner" style="background-image: url(/images/bg/img43.jpg);">
                <div class="container">
                    <div class="row">
                        <div class="col-xs-12 text-center">
                            <h1>Add Products</h1>
                            <nav class="breadcrumbs">
                                <ul class="list-unstyled">
                                    <li><a th:href=@{/}>home <i class="fa fa-angle-right"></i></a></li>
                                    <li>Add Products</li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Mt Content Banner of the Page end -->
            <!-- Mt About Section of the Page -->
            <section class="mt-about-sec" style="padding-bottom: 0;">
                <div class="container">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="txt">
                                <h2>Create new product</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Mt About Section of the Page -->
            <!-- Mt Detail Section of the Page -->
            <section class="mt-detail-sec toppadding-zero" >
                <div class="container">
                    <div class="row">
                        <div class="col-xs-12 col-sm-8 col-sm-push-2">
                            <div class="holder" style="margin: 0; background-image: url(/images/bg/img15.jpg); background-repeat: no-repeat;  background-size: cover;">
                                <div class="mt-side-widget" >
                                    <form  class="add-form" action="#">
                                        <fieldset>
                                            <input type="text" name="ProductName" placeholder="Name" class="input">
                                            <textarea name="Title" rows="4" cols="50" placeholder="Description" class="input" style="height:auto;"></textarea>

                                            <input type="number" name="Price" placeholder="Price" class="input">
                                            <input type="number" name="Quantity" placeholder="Stored quantity" class="input">
                                            <input type="file" class="input" name="imageProduct" id="image" accept="image/jpeg, image/png" placeholder="image" multiple>

                                            <select id="add-product-select-category" class="input">
                                                <option class="input" value="">--Select category--</option>

                                            </select>
                                            <button type="submit" onclick="add(event)" class="btn-type1">Create</button>
                                        </fieldset>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main><!-- Main of the Page end -->
<script th:inline="javascript">
    document.addEventListener("DOMContentLoaded", function() {
      var preloader = document.getElementById("pre-loader");
      if (preloader) {
        preloader.remove();
      }
    });

    fetch(`http://localhost:9999/categories`)
    .then(response => response.json())
    .then(categories => {
      var html = categories.map(category => {
        return `<option value="${category.id}">${category.name}</option>`;
      }).join('');

      var s = document.querySelector('#add-product-select-category');

      s.innerHTML += html;
    })
    .catch(error => {
      console.log(error);
    });
</script>
<script th:src="@{/js/action/admin/add.js}"></script>
</body>

</html>